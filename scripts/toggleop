#!/bin/bash
CONFIG_FILE="$HOME/.config/hypr/hyprland.conf"

if [ ! -f "$CONFIG_FILE" ]; then
  echo "Error: Hyprland config file not found at $CONFIG_FILE"
  exit 1
fi

if grep -q "^\s*active_opacity = 1$" "$CONFIG_FILE"; then
  sed -i 's/^\(\s*\)active_opacity = 1$/\1active_opacity = 0.9/' "$CONFIG_FILE"
  sed -i 's/^\(\s*\)inactive_opacity = 1$/\1inactive_opacity = 0.85/' "$CONFIG_FILE"
  hyprctl reload
else
  sed -i 's/^\(\s*\)active_opacity = [0-9.]*$/\1active_opacity = 1/' "$CONFIG_FILE"
  sed -i 's/^\(\s*\)inactive_opacity = [0-9.]*$/\1inactive_opacity = 1/' "$CONFIG_FILE"
  hyprctl reload
fi
